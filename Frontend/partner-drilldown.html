<!DOCTYPE html>
<html lang="en">

  <meta charset="UTF-8">
  <title>Partner Drill-Down</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="assets\css\partner-drilldown.css">



  <div class="container">
    <div class="title">Partner Drill-Down</div>
    <div class="filter-card">
      <div class="filter-group">
        <label class="filter-label" for="partner-select">Partner</label>
        <select id="partner-select">
          <option value="vendorA">S89200</option>
         
        </select>
      </div>
      <div class="filter-group">
        <label class="filter-label" for="msg-type-select">Message Type</label>
        <select id="msg-type-select">
          <option value="all">ALL</option>
          <option value="type1">DEBMAS</option>
          <option value="type2">DESADV</option>
          <option value="type2">GLMAST</option>

        </select>
      </div>
      <div class="filter-group">
        <label class="filter-label" for="date-range-select">Date Range</label>
        <select id="date-range-select">
          <option value="30d">Last 30 Days</option>
          <option value="7d">Last 7 Days</option>
          <option value="custom">Custom</option>
        </select>
      </div>
    </div>
    <div class="metrics-row">
      <div class="metric-card" id="health-score-card">
        <div class="metric-title" id="health-score-title">Vendor A (10001) Health Score</div>
        <div class="metric-desc">Overall IDoc performance</div>
        <div class="metric-note" id="health-score-note">Excellent</div>
        <div class="metric-main excellent" id="health-score-value">88%</div>
        <div class="metric-footer">
          <span id="total-idocs">5,876 Total IDocs</span>
          <span id="avg-proc-time">120 ms Avg. Proc. Time</span>
        </div>
      </div>
      <div class="metric-card">
        <div class="metric-title">Success Rate</div>
        <div class="metric-main" id="success-rate-value">94.5%</div>
        <div>
          <span class="trend-up" id="success-rate-trend">
            &#8599; 2.1% increase vs last period
          </span>
        </div>
      </div>
      <div class="metric-card">
        <div class="metric-title">Failed IDocs (30D)</div>
        <div class="metric-main failed" id="failed-idocs-value">123</div>
        <div>
          <span class="trend-down" id="failed-idocs-trend">
            &#8600; 5.8% increase vs last period
          </span>
        </div>
      </div>
    </div>
    <div class="metrics-row">
      <div class="metric-card">
        <div class="metric-title">Top 5 Error Types</div>
        <div id="error-types" style="margin-top: 12px; color:#444; font-size:1rem;">
          <ol style="padding-left:16px;">
            <li>Type X - 45%</li>
            <li>Type Y - 28%</li>
            <li>Type Z - 19%</li>
            <li>Type Q - 6%</li>
            <li>Type W - 2%</li>
          </ol>
        </div>
      </div>
      <div class="metric-card">
        <div class="metric-title">Processing Volume</div>
        <div class="metric-main" id="processing-volume">5.8K</div>
      </div>
      <div class="metric-card">
        <div class="metric-title">Avg. Latency</div>
        <div class="metric-main" id="avg-latency">120 ms</div>
      </div>
    </div>
  </div>
  <script>
    // Sample data
    const partnerData = {
      vendorA: {
        healthScore: { title: "Vendor A (10001) Health Score", note: "Excellent", value: "88%", totalIdocs: "5,876", avgProcTime: "120 ms" },
        successRate: { value: "94.5%", trend: { text: "2.1% increase vs last period", up: true } },
        failedIdocs: { value: "123", trend: { text: "5.8% increase vs last period", up: false } },
        errorTypes: ["Type X - 45%", "Type Y - 28%", "Type Z - 19%", "Type Q - 6%", "Type W - 2%"],
        processingVolume: "5.8K",
        avgLatency: "120 ms"
      },
      vendorB: {
        healthScore: { title: "Vendor B (10002) Health Score", note: "Good", value: "76%", totalIdocs: "4,320", avgProcTime: "150 ms" },
        successRate: { value: "86.2%", trend: { text: "1.4% decrease vs last period", up: false } },
        failedIdocs: { value: "167", trend: { text: "3.2% increase vs last period", up: false } },
        errorTypes: ["Type Y - 51%", "Type X - 21%", "Type Z - 18%", "Type Q - 7%", "Type W - 3%"],
        processingVolume: "4.3K",
        avgLatency: "150 ms"
      }
    };

    document.getElementById('partner-select').addEventListener('change', function() {
      const partner = this.value;
      updateMetrics(partner);
    });

    function updateMetrics(partnerKey) {
      const data = partnerData[partnerKey];
      document.getElementById('health-score-title').textContent = data.healthScore.title;
      document.getElementById('health-score-note').textContent = data.healthScore.note;
      document.getElementById('health-score-value').textContent = data.healthScore.value;
      document.getElementById('total-idocs').textContent = `${data.healthScore.totalIdocs} Total IDocs`;
      document.getElementById('avg-proc-time').textContent = `${data.healthScore.avgProcTime} Avg. Proc. Time`;

      document.getElementById('success-rate-value').textContent = data.successRate.value;
      document.getElementById('success-rate-trend').innerHTML = (data.successRate.trend.up ? '&#8599; ' : '&#8600; ') + data.successRate.trend.text;
      document.getElementById('success-rate-trend').className = data.successRate.trend.up ? 'trend-up' : 'trend-down';

      document.getElementById('failed-idocs-value').textContent = data.failedIdocs.value;
      document.getElementById('failed-idocs-trend').innerHTML = (data.failedIdocs.trend.up ? '&#8599; ' : '&#8600; ') + data.failedIdocs.trend.text;
      document.getElementById('failed-idocs-trend').className = data.failedIdocs.trend.up ? 'trend-up' : 'trend-down';

      document.getElementById('error-types').innerHTML = "<ol style='padding-left:16px;'>" +
        data.errorTypes.map(e => `<li>${e}</li>`).join('') + "</ol>";

      document.getElementById('processing-volume').textContent = data.processingVolume;
      document.getElementById('avg-latency').textContent = data.avgLatency;
    }

    // Initial load
    updateMetrics('vendorA');
  </script>

</html>